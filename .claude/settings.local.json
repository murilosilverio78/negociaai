{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(npx supabase:*)",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(npx next build)",
      "Bash(where:*)",
      "Bash(npx tsc:*)",
      "Bash(npm install:*)",
      "Bash(npx shadcn@latest add separator avatar dropdown-menu badge table tabs select textarea switch dialog alert-dialog tooltip progress skeleton sheet --yes)",
      "Bash(npx next lint:*)",
      "Bash(npx eslint:*)",
      "Bash(taskkill:*)",
      "Bash(timeout:*)",
      "Bash(node -e \"\nconst url = ''https://knlamlvhdigcyvrefnbt.supabase.co/rest/v1/devedores?cpf=eq.12345678909&select=*'';\nfetch\\(url, {\n  headers: {\n    ''apikey'': ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtubGFtbHZoZGlnY3l2cmVmbmJ0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDI0NzQ0NCwiZXhwIjoyMDg1ODIzNDQ0fQ.1XENDWQilxWOJg3sk0J5npjJPpXQG9jRdsy5yNq_jX0'',\n    ''Authorization'': ''Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtubGFtbHZoZGlnY3l2cmVmbmJ0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDI0NzQ0NCwiZXhwIjoyMDg1ODIzNDQ0fQ.1XENDWQilxWOJg3sk0J5npjJPpXQG9jRdsy5yNq_jX0''\n  }\n}\\).then\\(r => r.json\\(\\)\\).then\\(d => console.log\\(JSON.stringify\\(d, null, 2\\)\\)\\).catch\\(e => console.error\\(e\\)\\);\n\")",
      "Bash(node -e:*)",
      "Bash(powershell -c \"Start-Sleep 5; node -e \"\"fetch\\(''http://localhost:3099/api/public/divida/015beca3-5d36-4318-b35d-aad8bb480b1a''\\).then\\(async r => { console.log\\(''Status:'', r.status\\); const j = await r.json\\(\\); console.log\\(JSON.stringify\\(j, null, 2\\)\\); }\\).catch\\(e => console.error\\(''Error:'', e.message\\)\\);\"\"\")",
      "Bash(powershell -c \"Start-Sleep 5; node -e \"\"\nasync function test\\(\\) {\n  // TEST 1: Consultar dividas por CPF - deve retornar apenas pendentes\n  console.log\\(''=== TEST 1: Consultar dividas por CPF ===''\\);\n  const r1 = await fetch\\(''http://localhost:3099/api/public/dividas?cpf=12345678909''\\);\n  const d1 = await r1.json\\(\\);\n  console.log\\(''Status:'', r1.status\\);\n  console.log\\(''Count:'', d1.count\\);\n  console.log\\(''Dividas:'', d1.dividas.map\\(d => d.produto + '' \\('' + d.status + ''\\)''\\)\\);\n  console.log\\(''Credor name:'', d1.dividas[0] && d1.dividas[0].credor ? d1.dividas[0].credor.nome : ''NULL''\\);\n  console.log\\(\\);\n\n  // TEST 2: Fetch single divida\n  console.log\\(''=== TEST 2: Fetch single divida ===''\\);\n  const dividaId = d1.dividas[0] ? d1.dividas[0].id : null;\n  if \\(dividaId\\) {\n    const r2 = await fetch\\(''http://localhost:3099/api/public/divida/'' + dividaId\\);\n    const d2 = await r2.json\\(\\);\n    console.log\\(''Status:'', r2.status\\);\n    console.log\\(''Has divida:'', d2.divida ? ''YES'' : ''NO''\\);\n    console.log\\(''Credor:'', d2.divida && d2.divida.credor ? d2.divida.credor.nome : ''NULL''\\);\n  }\n  console.log\\(\\);\n\n  // TEST 3: Create negociacao via API\n  console.log\\(''=== TEST 3: Create negociacao via API ===''\\);\n  if \\(dividaId\\) {\n    const r3 = await fetch\\(''http://localhost:3099/api/public/negociacao'', {\n      method: ''POST'',\n      headers: { ''Content-Type'': ''application/json'' },\n      body: JSON.stringify\\({ divida_id: dividaId }\\)\n    }\\);\n    const d3 = await r3.json\\(\\);\n    console.log\\(''Status:'', r3.status\\);\n    console.log\\(''Negociacao ID:'', d3.negociacao ? d3.negociacao.id : ''FAIL''\\);\n\n    // TEST 4: Create acordo via API\n    if \\(d3.negociacao\\) {\n      console.log\\(\\);\n      console.log\\(''=== TEST 4: Create acordo via API ===''\\);\n      const r4 = await fetch\\(''http://localhost:3099/api/public/acordo'', {\n        method: ''POST'',\n        headers: { ''Content-Type'': ''application/json'' },\n        body: JSON.stringify\\({\n          divida_id: dividaId,\n          negociacao_id: d3.negociacao.id,\n          valor_original: 1875,\n          valor_acordo: 1125,\n          desconto_percentual: 40,\n          numero_parcelas: 1,\n          valor_parcela: 1125,\n          opcao_escolhida: ''avista''\n        }\\)\n      }\\);\n      const d4 = await r4.json\\(\\);\n      console.log\\(''Status:'', r4.status\\);\n      console.log\\(''Acordo ID:'', d4.acordo ? d4.acordo.id : ''FAIL - '' + d4.error\\);\n\n      // TEST 5: Read acordo via API\n      if \\(d4.acordo\\) {\n        console.log\\(\\);\n        console.log\\(''=== TEST 5: Read acordo via API ===''\\);\n        const r5 = await fetch\\(''http://localhost:3099/api/public/acordo?id='' + d4.acordo.id\\);\n        const d5 = await r5.json\\(\\);\n        console.log\\(''Status:'', r5.status\\);\n        console.log\\(''Acordo found:'', d5.acordo ? ''YES'' : ''NO''\\);\n        console.log\\(''Parcelas count:'', d5.parcelas ? d5.parcelas.length : 0\\);\n      }\n    }\n  }\n\n  // TEST 6: Check divida status was updated\n  console.log\\(\\);\n  console.log\\(''=== TEST 6: Divida status after acordo ===''\\);\n  const r6 = await fetch\\(''http://localhost:3099/api/public/dividas?cpf=12345678909''\\);\n  const d6 = await r6.json\\(\\);\n  console.log\\(''Pendentes count:'', d6.count\\);\n  console.log\\(''\\(should be 0 since we just created an acordo\\)''\\);\n}\ntest\\(\\).catch\\(e => console.error\\(e\\)\\);\n\"\"\")",
      "Bash(powershell:*)",
      "Bash(npx shadcn@latest add checkbox:*)",
      "Bash(npx shadcn@latest add sonner:*)",
      "Bash(npm run lint)"
    ]
  }
}
